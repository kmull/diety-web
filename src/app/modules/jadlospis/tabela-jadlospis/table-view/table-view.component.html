<div #table
     class="example-container mat-elevation-z8">

  <mat-table matTableExporter
             #exporter="matTableExporter"
             cdkDropList
             [dataSource]="dataSource"
             [cdkDropListData]="dataSource"
             (cdkDropListDropped)="onListDrop($event)"
             class="mat-elevation-z8"
             id="ExampleTable">

    <!-- Position Column -->
    <ng-container matColumnDef="dzien">
      <mat-header-cell *matHeaderCellDef> <span> {{rodzajDaniaOpis.DZIEN}} </span> </mat-header-cell>
      <mat-cell *matCellDef="let element"> <span class="value-content"> {{element.dzien}} </span> </mat-cell>
    </ng-container>

    <!-- Name Column -->
    <ng-container *ngIf="index !== typyDietIndex.STOLOWKA"
                  matColumnDef="sniadanie">
      <mat-header-cell *matHeaderCellDef> <span class="header-content"> {{rodzajDaniaOpis.SNIADANIE}} </span>
      </mat-header-cell>
      <mat-cell *matCellDef="let element"> <span class="value-content"> {{element.sniadanie}} </span> </mat-cell>
    </ng-container>

    <!-- Name Column -->
    <ng-container *ngIf="index !== typyDietIndex.STOLOWKA && index === typyDietIndex.LEKKOSTRAWNA"
                  matColumnDef="drugieSniadanie">
      <mat-header-cell *matHeaderCellDef> <span class="header-content"> {{rodzajDaniaOpis.DRUGIE_SNIADANIE}} </span>
      </mat-header-cell>
      <mat-cell *matCellDef="let element"> <span class="value-content"> {{element.drugieSniadanie}} </span> </mat-cell>
    </ng-container>

    <!-- Weight Column -->
    <ng-container matColumnDef="obiad">
      <mat-header-cell *matHeaderCellDef> <span class="header-content"> {{rodzajDaniaOpis.OBIAD}} </span>
      </mat-header-cell>
      <mat-cell *matCellDef="let element"> <span class="value-content"> {{element.obiad}} </span> </mat-cell>
    </ng-container>

    <!-- Symbol Column -->
    <ng-container *ngIf="index !== typyDietIndex.STOLOWKA && index === typyDietIndex.PODSTAWOWA"
                  matColumnDef="podwieczorek">
      <mat-header-cell *matHeaderCellDef> <span class="header-content"> {{rodzajDaniaOpis.PODWIECZOREK}} </span>
      </mat-header-cell>
      <mat-cell *matCellDef="let element"> <span class="value-content"> {{element.podwieczorek}} </span> </mat-cell>
    </ng-container>

    <!-- Kolacja Column -->
    <ng-container *ngIf="index !== typyDietIndex.STOLOWKA"
                  matColumnDef="kolacja">
      <mat-header-cell *matHeaderCellDef> <span class="header-content"> {{rodzajDaniaOpis.KOLACJA}} </span>
      </mat-header-cell>
      <mat-cell *matCellDef="let element"> <span class="value-content"> {{element.kolacja}} </span> </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns;"
             [ngClass]="{hovered: row.hovered,
              highlightTableColor: selectedRowIndex == row.dzien}"
             (click)="rowSelected(row)"
             (mouseover)="row.hovered = true"
             (mouseout)="row.hovered = false"
             cdkDrag>
    </mat-row>
  </mat-table>
</div>
